#include <stdio.h>#include <stdlib.h>#include <string.h>#include <fcntl.h>#include <errno.h>#include <sys/types.h>#include <unistd.h>#define SIZE 256void errorMsg(char* str);	/*This programs runs a black-friday sale campaign, using shell commands + additional custom commands.*/int main(int argc, char* argv[]){	int camp, wbytes, rbytes, pid, i, len;	char buffer[SIZE], binFile[SIZE] = { 0 }, *token, *toBeRemoved = "\n\t\r ", *parms[4];	if (argc != 1)		errorMsg("Incorrect amount of args/parms");	mkdir ("Black_Friday", 0777);	//Creating the campaign file.	if((camp = open("Black_Friday/camp_partic.txt", O_RDWR | O_CREAT, 0644)) == -1)		errorMsg("open");	close(camp);	len = strlen("// Black_Friday dir created, camp_partic.txt created\n");	write(0, "// Black_Friday dir created, camp_partic.txt created\n", len);	//An infinite loop until 'exit' is inserted - which ends the program and deletes the black friday folder.	while(1)	{		write(0, "AdvShell>", 9);		//Using memset to reset the string in each iteration.		memset(buffer, 0, sizeof(buffer));		if ((rbytes = read(0, &buffer, sizeof(buffer))) == -1)			errorMsg("Read");		//A condition that ignores an empty enter input.		if (strcmp(buffer, "\n"))		{			//Using strtok to remove unnecessary chars from the input. 			token = strtok(buffer, toBeRemoved);			i = 0;			//Splitting the input to an array of strings, which will be used as arguments/parameters with different commands.			while (token != NULL)			{				parms[i] = token;				i++;				token = strtok(NULL, toBeRemoved);			}			if (i < 4)				parms[i] = NULL;			//Restarting the path for each iteration.			strcpy(binFile, "/bin/\0");			//Placing the token(command) at the end of the bin/.			strcat(binFile, parms[0]);			if ((pid = fork()) == 0)			{				//Shell commands execution.				execvp(binFile, parms);				//Custom commands execution - will only be activated if the the previous exec failed.				execv(parms[0], parms);				printf("Not Supported\n");				exit(1);			}			else if (pid == -1)				errorMsg("Fork failed.");			wait();		}		//exit command that terminates the loop and deletes the black friday folder. 		if (strcmp(buffer, "exit") == 0)			break;	}	return 0;}/*This function will be called incase there's an error and the program needs to be terminated.*/void errorMsg(char* str){	perror(str);	exit(1);}